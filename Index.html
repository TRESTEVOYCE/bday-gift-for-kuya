<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday ðŸŽ‰</title>

<style>
:root {
  --cake-width: clamp(180px, 40vw, 260px);
  --layer-height: clamp(45px, 8vw, 70px);
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, #ffd6e8, #c77dff);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-family: "Comic Sans MS", cursive;
  overflow: hidden;
  transition: opacity 1s ease;
}

body.fade-out {
  opacity: 0;
}

h1 {
  color: white;
  font-size: clamp(1.8rem, 5vw, 3rem);
  text-shadow: 0 0 15px #fff;
  animation: floatText 3s ease-in-out infinite;
  margin-bottom: 5rem;
}

@keyframes floatText {
  50% { transform: translateY(-10px); }
}

button {
  margin-top: 3rem;
  padding: 0.8rem 1.6rem;
  font-size: clamp(1rem, 3vw, 1.2rem);
  border: none;
  border-radius: 30px;
  background: linear-gradient(135deg, #ff4d6d, #ffc75f);
  color: white;
  cursor: pointer;
  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
  transition: transform 0.2s, box-shadow 0.2s;
}

button:hover {
  transform: scale(1.08);
  box-shadow: 0 15px 25px rgba(0,0,0,0.3);
}

button:active {
  transform: scale(0.95);
}

.cake {
  position: relative;
  width: var(--cake-width);
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: idleBounce 4s ease-in-out infinite;
}

@keyframes idleBounce {
  50% { transform: translateY(-6px); }
}

.cake.glow {
  animation: glow 1s ease-in-out infinite alternate;
}

@keyframes glow {
  from { filter: drop-shadow(0 0 10px #fff); }
  to { filter: drop-shadow(0 0 25px #ffd6e8); }
}

.layer {
  width: 100%;
  height: var(--layer-height);
  border-radius: 12px;
  box-shadow: inset 0 -12px rgba(0,0,0,0.15);
}

.layer.bottom { background: #ff9aa2; }
.layer.middle { width: 82%; background: #ffc75f; }
.layer.top { width: 64%; background: #f1faee; }

.layer:not(:last-child) {
  margin-bottom: -0.6rem;
}

.candles {
  position: absolute;
  top: calc(-1 * clamp(30px, 6vw, 45px));
  display: flex;
  gap: clamp(6px, 2vw, 12px);
}

.candle {
  width: clamp(8px, 1.5vw, 12px);
  height: clamp(30px, 6vw, 45px);
  background: repeating-linear-gradient(
    45deg,
    #ff4d6d,
    #ff4d6d 5px,
    white 5px,
    white 10px
  );
  border-radius: 3px;
  position: relative;
}

.flame {
  position: absolute;
  top: -45%;
  left: 50%;
  transform: translateX(-50%);
  width: clamp(10px, 2vw, 14px);
  height: clamp(10px, 2vw, 14px);
  background: gold;
  border-radius: 50%;
  box-shadow: 0 0 18px gold;
  animation: flicker 0.15s infinite alternate;
}

@keyframes flicker {
  to { transform: translateX(-50%) scale(1.3); }
}

.flame.off {
  opacity: 0;
  animation: none;
}

.sparkle, .confetti {
  position: absolute;
  pointer-events: none;
}

.sparkle {
  width: 6px;
  height: 6px;
  background: white;
  border-radius: 50%;
  animation: sparkle 2s linear forwards;
}

@keyframes sparkle {
  to {
    opacity: 0;
    transform: translateY(-200px) scale(0);
  }
}

.confetti {
  width: 8px;
  height: 12px;
  animation: confetti 2.5s ease-out forwards;
}

@keyframes confetti {
  to {
    transform: translateY(400px) rotate(720deg);
    opacity: 0;
  }
}
</style>
</head>

<body>

<h1>ðŸŽ‰ Happy Birthday! ðŸŽ‰</h1>

<div class="cake" id="cake">
  <div class="candles">
    <div class="candle"><div class="flame"></div></div>
    <div class="candle"><div class="flame"></div></div>
    <div class="candle"><div class="flame"></div></div>
  </div>

  <div class="layer top"></div>
  <div class="layer middle"></div>
  <div class="layer bottom"></div>
</div>

<button id="actionBtn">Click Me ðŸŽ‚</button>

<script>
const button = document.getElementById("actionBtn");
const flames = document.querySelectorAll(".flame");
const cake = document.getElementById("cake");

function sparkleBurst(x, y) {
  for (let i = 0; i < 20; i++) {
    const s = document.createElement("div");
    s.className = "sparkle";
    s.style.left = x + Math.random() * 80 - 40 + "px";
    s.style.top = y + "px";
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 2000);
  }
}

function confettiBurst() {
  for (let i = 0; i < 40; i++) {
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * window.innerWidth + "px";
    c.style.top = "-20px";
    c.style.background = `hsl(${Math.random()*360},100%,60%)`;
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 2500);
  }
}

button.addEventListener("click", () => {
  flames.forEach(f => f.classList.add("off"));
  cake.classList.add("glow");
  button.textContent = "ðŸŽ‰ Make a Wish!";

  const rect = cake.getBoundingClientRect();
  sparkleBurst(rect.left + rect.width / 2, rect.top);
  confettiBurst();

  // â±ï¸ Delay â†’ fade â†’ gallery
  setTimeout(() => {
    document.body.classList.add("fade-out");
  }, 1200);

  setTimeout(() => {
    window.location.href = "gallery.html";
  }, 2200);
});
</script>

</body>
</html>